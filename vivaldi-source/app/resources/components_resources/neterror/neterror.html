<!doctype html>
<html dir="$i18n{textdirection}" lang="$i18n{language}">
<head>
  <meta charset="utf-8">
  <meta name="color-scheme" content="light dark">
  <meta name="theme-color" content="#fff">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,
                                 maximum-scale=1.0, user-scalable=no">
  <title>$i18n{title}</title>
  <link rel="stylesheet" href="../../../chromium/components/security_interstitials/core/common/resources/interstitial_core.css">
  <link rel="stylesheet" href="../../../chromium/components/security_interstitials/core/common/resources/interstitial_common.css">
  <link rel="stylesheet" href="neterror.css">
  <script type="text/javascript">
    function launchVivaldiGame() {
      window.errorPageController.openVivaldia();
    }
    updateVivaldiaVisibility = () => {
      // Frugal error-code checking to avoid chromium soiling.
      const errorcode = document
        .getElementById("main-message")
        .getElementsByClassName("error-code")[0].innerText;
      const is_disconnected = errorcode === "ERR_INTERNET_DISCONNECTED";

      const vivaldiadiv = document.getElementById("vivaldia");
      // Element is ifdeffed on some platforms.
      if (vivaldiadiv && is_disconnected) {
        vivaldiadiv.classList.remove(HIDDEN_CLASS);
      }

    };
    window.onload = () => {
      updateVivaldiaVisibility();
    }
  </script>
<if expr="optimize_webui">
  <script src="%ROOT_GEN_DIR%/components/neterror/resources/minified/neterror.rollup.js"></script>
</if>
</head>
<body class="neterror" style="font-family: $i18n{fontfamily}; font-size: $i18n{fontsize}">
  <div id="content"></div>
  <div id="offline-resources">
    <img id="offline-resources-1x" src="../../../chromium/components/neterror/resources/images/default_100_percent/offline/100-offline-sprite.png">
    <img id="offline-resources-2x" src="../../../chromium/components/neterror/resources/images/default_200_percent/offline/200-offline-sprite.png">
    <template id="audio-resources">
      <audio id="offline-sound-press" src="../../../chromium/components/neterror/resources/sounds/button-press.mp3"></audio>
      <audio id="offline-sound-hit" src="../../../chromium/components/neterror/resources/sounds/hit.mp3"></audio>
      <audio id="offline-sound-reached" src="../../../chromium/components/neterror/resources/sounds/score-reached.mp3"></audio>
    </template>
  </div>

  <if expr="not is_android and not is_ios">
    <div id="vivaldia" class="interstitial-wrapper hidden">
      <div class="vivaldia-section">
        <div>While you wait, try the most powerful in-browser game</div>
        <div class="playbutton-holder">
          <a class="link-button" onclick="launchVivaldiGame();">Play Vivaldia →</a>
        </div>
        <span class="logo-holder">
          <img id="vivaldia-logo" src="./game_icon_loop.gif">
        </span>
      </div>
    </div>
  </if>

</body>
</html>
